[
  {
    "id": "F1",
    "feature": "GET /live returns alive status",
    "command": "curl -sS http://127.0.0.1:3001/live",
    "expected_signal": "HTTP 200 JSON with status=alive",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/live_body.json"
  },
  {
    "id": "F2",
    "feature": "GET /ready reports dependency health",
    "command": "curl -sS http://127.0.0.1:3001/ready",
    "expected_signal": "HTTP 200 JSON showing database and redis connected",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/ready_body.json"
  },
  {
    "id": "F3",
    "feature": "GET /metrics exposes Prometheus counters",
    "command": "curl -sS http://127.0.0.1:3001/metrics",
    "expected_signal": "Text payload includes houston_sensor_readings_total gauge",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/metrics_body.txt"
  },
  {
    "id": "F4",
    "feature": "GET /metrics.json exposes structured metrics",
    "command": "curl -sS http://127.0.0.1:3001/metrics.json",
    "expected_signal": "JSON contains requests_total and readings_last_24h fields",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/metrics_json_body.json"
  },
  {
    "id": "F5",
    "feature": "GET /api/research/visualization-data/:category returns research points",
    "command": "curl -sS http://127.0.0.1:3001/api/research/visualization-data/alignment",
    "expected_signal": "JSON includes research_points array with normalized coordinates",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/visualization_alignment.json"
  },
  {
    "id": "F6",
    "feature": "GET /api/research/network-topology returns network graph",
    "command": "curl -sS http://127.0.0.1:3001/api/research/network-topology",
    "expected_signal": "JSON nodes[] and edges[] derived from PostgreSQL aggregations",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/network_topology.json"
  },
  {
    "id": "F7",
    "feature": "POST /api/research/update-metrics ingests sensor readings",
    "command": "curl -sS -X POST http://127.0.0.1:3001/api/research/update-metrics -H 'Content-Type: application/json' -d '{\"metrics\":[35.5,52.1,29.8,63,2],\"device_id\":\"houston_sensor_cli\"}'",
    "expected_signal": "HTTP 200 JSON {success:true,processed:5}",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/update_metrics_response.json"
  },
  {
    "id": "F8",
    "feature": "Database reflects POSTed metrics",
    "command": "psql postgresql://houston:ej_ai_2024@localhost/houston_ej_ai -c \"SELECT device_id, pm25, pm10, temperature, humidity, health_events FROM air_quality WHERE device_id='houston_sensor_cli' ORDER BY time DESC LIMIT 1;\"",
    "expected_signal": "Result row matches payload (35.5, 52.1, 29.8, 63, 2)",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/db_latest_cli.tsv"
  },
  {
    "id": "F9",
    "feature": "WebSocket subscribe_to_real_data emits latest reading",
    "command": "node socket.io-client subscription script (see evidence log)",
    "expected_signal": "Console shows real_time_data payload for houston_sensor_cli",
    "status": "VERIFIED",
    "evidence": "evidence/20250919T1015Z/websocket_subscribe.txt"
  },
  {
    "id": "F10",
    "feature": "Run Jest integration suite",
    "command": "npm test -- --runTestsByPath test/server.integration.test.js",
    "expected_signal": "PASS summary for Houston EJ-AI backend integration tests",
    "status": "UNVERIFIED",
    "evidence": "evidence/20250919T1015Z/npm_test_failure.txt"
  }
]
